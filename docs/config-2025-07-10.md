# i18n-xy é…ç½®æŒ‡å—

## ç›®å½•
- [åŸºç¡€é…ç½®](#åŸºç¡€é…ç½®)
  - [è¯­è¨€è®¾ç½®](#è¯­è¨€è®¾ç½®)
  - [æ–‡ä»¶è·¯å¾„é…ç½®](#æ–‡ä»¶è·¯å¾„é…ç½®)
- [æ–‡ä»¶å¤„ç†é…ç½®](#æ–‡ä»¶å¤„ç†é…ç½®)
  - [åŒ…å«å’Œæ’é™¤è§„åˆ™](#åŒ…å«å’Œæ’é™¤è§„åˆ™)
- [Keyç”Ÿæˆé…ç½®](#keyç”Ÿæˆé…ç½®)
  - [Keyç”Ÿæˆç­–ç•¥](#keyç”Ÿæˆç­–ç•¥)
  - [æ‹¼éŸ³è½¬æ¢é€‰é¡¹](#æ‹¼éŸ³è½¬æ¢é€‰é¡¹)
- [è¾“å‡ºé…ç½®](#è¾“å‡ºé…ç½®)
- [æ›¿æ¢é…ç½®](#æ›¿æ¢é…ç½®)
- [æ—¥å¿—é…ç½®](#æ—¥å¿—é…ç½®)
- [ç¿»è¯‘é…ç½®](#ç¿»è¯‘é…ç½®)
- [é…ç½®æœ€ä½³å®è·µ](#é…ç½®æœ€ä½³å®è·µ)

## åŸºç¡€é…ç½®

### è¯­è¨€è®¾ç½®

#### `locale`
- **ç±»å‹**: `string`
- **é»˜è®¤å€¼**: `"zh-CN"`
- **è¯´æ˜**: æŒ‡å®šé¡¹ç›®çš„ä¸»è¦è¯­è¨€ï¼Œé€šå¸¸æ˜¯æºä»£ç ä¸­ä½¿ç”¨çš„è¯­è¨€
- **é…ç½®ç¤ºä¾‹**:
  ```json
  {
    "locale": "zh-CN"
  }
  ```
- **æ•ˆæœç¤ºä¾‹**:
  ```
  ğŸ“ locales/
  â””â”€â”€ zh-CN.json  // ä¸»è¯­è¨€æ–‡ä»¶
  {
    "welcome": "æ¬¢è¿",
    "submit": "æäº¤"
  }
  ```

#### `displayLanguage`
- **ç±»å‹**: `string`
- **é»˜è®¤å€¼**: `"en-US"`
- **è¯´æ˜**: æŒ‡å®šç¿»è¯‘çš„è¯­è¨€
- **é…ç½®ç¤ºä¾‹**:
  ```json
  {
    "displayLanguage": "en-US"
  }
  ```
- **æ•ˆæœç¤ºä¾‹**:
  ```
  ğŸ“ locales/
  â”œâ”€â”€ zh-CN.json  // ä¸»è¯­è¨€æ–‡ä»¶
  â””â”€â”€ zh-CN.json  // ç¿»è¯‘åçš„è¯­è¨€æ–‡ä»¶
  {
    "welcome": "Welcome",
    "submit": "Submit"
  }
  ```

### æ–‡ä»¶è·¯å¾„é…ç½®

#### `outputDir`
- **ç±»å‹**: `string`
- **é»˜è®¤å€¼**: `"src/locales"`
- **è¯´æ˜**: æŒ‡å®šç”Ÿæˆçš„è¯­è¨€æ–‡ä»¶å­˜æ”¾ç›®å½•
- **é…ç½®ç¤ºä¾‹**:
  ```json
  {
    "outputDir": "src/locales"
  }
  ```
- **æ•ˆæœç¤ºä¾‹**:
  ```
  ğŸ“ é¡¹ç›®ç»“æ„
  src/
  â”œâ”€â”€ locales/              // è¾“å‡ºç›®å½•
  â”‚   â”œâ”€â”€ zh-CN.json       // ä¸­æ–‡ç¿»è¯‘
  â”‚   â””â”€â”€ en-US.json       // è‹±æ–‡ç¿»è¯‘
  â”œâ”€â”€ components/
  â””â”€â”€ pages/
  ```

#### `tempDir`
- **ç±»å‹**: `string`
- **é»˜è®¤å€¼**: `undefined`
- **è¯´æ˜**: æŒ‡å®šå¤„ç†åä¸ä¼šæ”¹å˜æºæ–‡ä»¶ï¼Œè€Œæ˜¯å°†åŸæ–‡ä»¶è½¬æ¢åæŒ‰åŸå§‹è·¯å¾„å­˜æ”¾åˆ°ä¸´æ—¶å­˜æ”¾ç›®å½•
- **é…ç½®ç¤ºä¾‹**:
  ```json
  {
    "tempDir": "temp/i18n"
  }
  ```
- **æ•ˆæœç¤ºä¾‹**:
  ```
  ğŸ“ é¡¹ç›®ç»“æ„
  src/
  â”œâ”€â”€ components/
  â”‚   â””â”€â”€ Button.tsx       // åŸå§‹æ–‡ä»¶
  â””â”€â”€ pages/
      â””â”€â”€ index.tsx        // åŸå§‹æ–‡ä»¶
  
  temp/
  â””â”€â”€ i18n/               // ä¸´æ—¶ç›®å½•
      â”œâ”€â”€ components/
      â”‚   â””â”€â”€ Button.tsx  // å¤„ç†åçš„æ–‡ä»¶
      â””â”€â”€ pages/
          â””â”€â”€ index.tsx   // å¤„ç†åçš„æ–‡ä»¶
  
  // åŸå§‹æ–‡ä»¶ Button.tsx
  const Button = () => <button>ç‚¹å‡»æäº¤</button>
  
  // ä¸´æ—¶ç›®å½•ä¸­çš„ Button.tsx
  const Button = () => <button>{t('dian_ji_ti_jiao')}</button>
  ```

## æ–‡ä»¶å¤„ç†é…ç½®

### åŒ…å«å’Œæ’é™¤è§„åˆ™

#### `include`
- **ç±»å‹**: `string[]`
- **é»˜è®¤å€¼**: 
  ```json
  [
    "src/**/*.{js,jsx,ts,tsx}",
  ]
  ```
- **è¯´æ˜**: æŒ‡å®šéœ€è¦å¤„ç†çš„æ–‡ä»¶åŒ¹é…æ¨¡å¼
- **é…ç½®ç¤ºä¾‹**:
  ```json
  {
    "include": [
      "src/**/*.{js,ts}",
      "components/**/*.tsx"
    ]
  }
  ```
- **æ•ˆæœç¤ºä¾‹**:
  ```
  ğŸ“ é¡¹ç›®ç»“æ„
  src/
  â”œâ”€â”€ utils/
  â”‚   â”œâ”€â”€ helper.js        âœ… ä¼šè¢«å¤„ç†
  â”‚   â””â”€â”€ constants.ts     âœ… ä¼šè¢«å¤„ç†
  â”œâ”€â”€ components/
  â”‚   â”œâ”€â”€ Button.tsx      âœ… ä¼šè¢«å¤„ç†
  â”‚   â””â”€â”€ Button.css      âŒ ä¸ä¼šè¢«å¤„ç†
  â””â”€â”€ pages/
      â”œâ”€â”€ index.jsx       âŒ ä¸ä¼šè¢«å¤„ç†ï¼ˆä¸åœ¨includeä¸­ï¼‰
      â””â”€â”€ about.tsx       âŒ ä¸ä¼šè¢«å¤„ç†ï¼ˆä¸åœ¨includeä¸­ï¼‰
  ```

#### `exclude`
- **ç±»å‹**: `string[]`
- **é»˜è®¤å€¼**:
  ```json
  [
    "node_modules/**",
    "dist/**",
    "build/**",
    "**/*.test.{js,jsx,ts,tsx}",
    "**/*.spec.{js,jsx,ts,tsx}"
  ]
  ```
- **è¯´æ˜**: æŒ‡å®šä¸éœ€è¦å¤„ç†çš„æ–‡ä»¶åŒ¹é…æ¨¡å¼
- **æ•ˆæœç¤ºä¾‹**:
  ```json
  {
    "exclude": [
      "**/node_modules/**",  // æ’é™¤æ‰€æœ‰ node_modules ç›®å½•
      "src/**/*.test.*",     // æ’é™¤æµ‹è¯•æ–‡ä»¶
      "**/*.d.ts"           // æ’é™¤ç±»å‹å£°æ˜æ–‡ä»¶
    ]
  }
  ```
- **æ³¨æ„äº‹é¡¹**:
  - exclude çš„ä¼˜å…ˆçº§é«˜äº include
  - å»ºè®®æ’é™¤æµ‹è¯•æ–‡ä»¶ã€æ„å»ºè¾“å‡ºå’Œç¬¬ä¸‰æ–¹åº“

## Keyç”Ÿæˆé…ç½®

### Keyç”Ÿæˆç­–ç•¥

#### `keyGeneration`

##### `maxChineseLength`
- **ç±»å‹**: `number`
- **é»˜è®¤å€¼**: `10`
- **è¯´æ˜**: ç”¨äºç”Ÿæˆkeyæ—¶æˆªå–çš„ä¸­æ–‡æ–‡æœ¬æœ€å¤§é•¿åº¦
- **é…ç½®ç¤ºä¾‹**:
  ```json
  {
    "keyGeneration": {
      "maxChineseLength": 5
    }
  }
  ```
- **æ•ˆæœç¤ºä¾‹**:
  ```
  åŸå§‹æ–‡æœ¬ -> ç”Ÿæˆçš„key
  "æäº¤" -> "ti_jiao"
  "è¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„æ–‡æœ¬" -> "zhe_shi_yi_ge_hen_hash123"  // è¶…è¿‡5ä¸ªå­—ç¬¦ï¼Œæ·»åŠ hash
  "ç”¨æˆ·ç®¡ç†é…ç½®é¡µé¢" -> "yong_hu_guan_li_hash456"      // æˆªå–å‰5ä¸ªå­—ç¬¦
  ```

##### `hashLength`
- **ç±»å‹**: `number`
- **é»˜è®¤å€¼**: `6`
- **è¯´æ˜**: å½“keyé‡å¤æ—¶æ·»åŠ çš„hashåç¼€é•¿åº¦
- **é…ç½®ç¤ºä¾‹**:
  ```json
  {
    "keyGeneration": {
      "hashLength": 4
    }
  }
  ```
- **æ•ˆæœç¤ºä¾‹**:
  ```
  åœºæ™¯1ï¼šä¸¤å¤„éƒ½ä½¿ç”¨äº†"æäº¤"æ–‡æœ¬
  
  // ç¬¬ä¸€æ¬¡é‡åˆ°
  "æäº¤" -> "ti_jiao"
  
  // ç¬¬äºŒæ¬¡é‡åˆ°ï¼ˆå‡è®¾reuseExistingKeyä¸ºfalseï¼‰
  "æäº¤" -> "ti_jiao_a1b2"  // 4ä½hashåç¼€

  åœºæ™¯2ï¼šæ–‡æœ¬è¶…é•¿
  
  "è¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„æ–‡æœ¬" -> "zhe_shi_yi_ge_hen_he2f"  // è¶…è¿‡5ä¸ªå­—ç¬¦ï¼Œæ·»åŠ hash
  ```

##### `maxRetryCount`
- **ç±»å‹**: `number`
- **é»˜è®¤å€¼**: `5`
- **è¯´æ˜**: ç”Ÿæˆå”¯ä¸€keyæ—¶çš„æœ€å¤§é‡è¯•æ¬¡æ•°
- **æ³¨æ„äº‹é¡¹**:
  - å½“keyé‡å¤æ—¶ä¼šé‡è¯•ç”Ÿæˆæ–°çš„key
  - è¶…è¿‡é‡è¯•æ¬¡æ•°åä¼šæŠ›å‡ºé”™è¯¯

##### `reuseExistingKey`
- **ç±»å‹**: `boolean`
- **é»˜è®¤å€¼**: `true`
- **è¯´æ˜**: ç›¸åŒæ–‡æœ¬æ˜¯å¦ä½¿ç”¨ç›¸åŒçš„key
- **é…ç½®ç¤ºä¾‹**:
  ```json
  {
    "keyGeneration": {
      "reuseExistingKey": true
    }
  }
  ```
- **æ•ˆæœç¤ºä¾‹**:
  ```typescript
  // æºä»£ç 
  function Page() {
    return (
      <>
        <button>æäº¤</button>
        <div>
          <button>æäº¤</button>
        </div>
      </>
    )
  }
  
  // reuseExistingKey: true
  function Page() {
    return (
      <>
        <button>{t('ti_jiao')}</button>
        <div>
          <button>{t('ti_jiao')}</button>  // å¤ç”¨ç›¸åŒçš„key
        </div>
      </>
    )
  }
  
  // reuseExistingKey: false
  function Page() {
    return (
      <>
        <button>{t('ti_jiao')}</button>
        <div>
          <button>{t('ti_jiao_a1b2')}</button>  // ç”Ÿæˆæ–°çš„key
        </div>
      </>
    )
  }
  ```

##### `duplicateKeySuffix`
- **ç±»å‹**: `"hash"`
- **é»˜è®¤å€¼**: `"hash"`
- **è¯´æ˜**: å¤„ç†é‡å¤keyçš„ç­–ç•¥
- **æ•ˆæœç¤ºä¾‹**:
  å½“ `reuseExistingKey` ä¸º `false` æ—¶ï¼Œç›¸åŒæ–‡æœ¬ä¼šç”Ÿæˆä¸åŒçš„keyï¼š
  ```
  "æ¬¢è¿" -> welcome_a1b2c3
  "æ¬¢è¿" -> welcome_d4e5f6
  ```

##### `keyPrefix`
- **ç±»å‹**: `string`
- **é»˜è®¤å€¼**: `""`
- **è¯´æ˜**: ç”Ÿæˆçš„keyçš„å‰ç¼€
- **é…ç½®ç¤ºä¾‹**:
  ```json
  {
    "keyGeneration": {
      "keyPrefix": "user"
    }
  }
  ```
- **æ•ˆæœç¤ºä¾‹**:
  ```typescript
  // æºä»£ç 
  const UserProfile = () => (
    <div>
      <h1>ç”¨æˆ·ä¿¡æ¯</h1>
      <button>ä¿å­˜</button>
    </div>
  )
  
  // è½¬æ¢å
  const UserProfile = () => (
    <div>
      <h1>{t('user_yong_hu_xin_xi')}</h1>
      <button>{t('user_bao_cun')}</button>
    </div>
  )
  
  // ç”Ÿæˆçš„è¯­è¨€æ–‡ä»¶
  {
    "user_yong_hu_xin_xi": "ç”¨æˆ·ä¿¡æ¯",
    "user_bao_cun": "ä¿å­˜"
  }
  ```

##### `separator`
- **ç±»å‹**: `string`
- **é»˜è®¤å€¼**: `"_"`
- **è¯´æ˜**: keyä¸­ç”¨äºè¿æ¥çš„åˆ†éš”ç¬¦
- **é…ç½®ç¤ºä¾‹**:
  ```json
  {
    "keyGeneration": {
      "separator": ".",
      "keyPrefix": "user"
    }
  }
  ```
- **æ•ˆæœç¤ºä¾‹**:
  ```typescript
  // æºä»£ç 
  const label = "ç”¨æˆ·åç§°";
  
  // separator: "_" ï¼ˆé»˜è®¤ï¼‰
  t('user_yong_hu_ming_cheng')
  
  // separator: "."
  t('user.yong.hu.ming.cheng')
  
  // separator: "-"
  t('user-yong-hu-ming-cheng')
  ```

### æ‹¼éŸ³è½¬æ¢é€‰é¡¹

#### `pinyinOptions`
- **ç±»å‹**: `object`
- **é»˜è®¤é…ç½®**:
  ```json
  {
    "toneType": "none",
    "type": "array"
  }
  ```
- **è¯´æ˜**: æ§åˆ¶ä¸­æ–‡è½¬æ‹¼éŸ³çš„è¡Œä¸º
- **æ•ˆæœç¤ºä¾‹**:
  ```typescript
  // åŸæ–‡æœ¬: "ç”¨æˆ·è®¾ç½®"
  
  // toneType: "none", type: "array"
  ["yong", "hu", "she", "zhi"] -> "yong_hu_she_zhi"
  
  // toneType: "num", type: "array"
  ["yong4", "hu4", "she4", "zhi4"] -> "yong4_hu4_she4_zhi4"
  
  // toneType: "symbol", type: "array"
  ["yÃ²ng", "hÃ¹", "shÃ¨", "zhÃ¬"] -> "yÃ²ng_hÃ¹_shÃ¨_zhÃ¬"
  
  // type: "string"
  "yonghushezhi"
  ```

## è¾“å‡ºé…ç½®

#### `output`

##### `prettyJson`
- **ç±»å‹**: `boolean`
- **é»˜è®¤å€¼**: `true`
- **è¯´æ˜**: æ˜¯å¦æ ¼å¼åŒ–è¾“å‡ºçš„JSONæ–‡ä»¶
- **æ•ˆæœç¤ºä¾‹**:
  ```json
  {
    "output": {
      "prettyJson": true
    }
  }
  ```
  ç”Ÿæˆçš„JSONæ–‡ä»¶ä¼šæœ‰é€‚å½“çš„ç¼©è¿›å’Œæ¢è¡Œ

##### `localeFileName`
- **ç±»å‹**: `string`
- **é»˜è®¤å€¼**: `"{locale}.json"`
- **è¯´æ˜**: è¯­è¨€æ–‡ä»¶çš„å‘½åæ¨¡å¼
- **æ•ˆæœç¤ºä¾‹**:
  ```json
  {
    "output": {
      "localeFileName": "i18n-{locale}.json"
    }
  }
  ```
  ç”Ÿæˆçš„æ–‡ä»¶åä¼šæ˜¯ `i18n-zh-CN.json`

## æ›¿æ¢é…ç½®

#### `replacement`

##### `functionName`
- **ç±»å‹**: `string`
- **é»˜è®¤å€¼**: `"$t"`
- **è¯´æ˜**: æ›¿æ¢ä¸­æ–‡å­—ç¬¦ä¸²æ—¶ä½¿ç”¨çš„å‡½æ•°å
- **é…ç½®ç¤ºä¾‹**:
  ```json
  {
    "replacement": {
      "functionName": "t"
    }
  }
  ```
- **æ•ˆæœç¤ºä¾‹**:
  ```typescript
  // æºä»£ç 
  const title = "æ¬¢è¿ä½¿ç”¨";
  const message = "è¯·è¾“å…¥ç”¨æˆ·å";
  
  // functionName: "$t"
  const title = $t('huan_ying_shi_yong');
  const message = $t('qing_shu_ru_yong_hu_ming');
  
  // functionName: "t"
  const title = t('huan_ying_shi_yong');
  const message = t('qing_shu_ru_yong_hu_ming');
  
  // functionName: "i18n.t"
  const title = i18n.t('huan_ying_shi_yong');
  const message = i18n.t('qing_shu_ru_yong_hu_ming');
  ```

##### `quoteType`
- **ç±»å‹**: `"single" | "double"`
- **é»˜è®¤å€¼**: `"single"`
- **è¯´æ˜**: æ›¿æ¢åçš„å­—ç¬¦ä¸²ä½¿ç”¨çš„å¼•å·ç±»å‹
- **æ•ˆæœç¤ºä¾‹**:
  ```json
  {
    "replacement": {
      "quoteType": "single"
    }
  }
  ```
  ç”Ÿæˆçš„ä»£ç ä¼šä½¿ç”¨å•å¼•å·ï¼š`t('welcome')`

##### `autoImport`
- **ç±»å‹**: `object`
- **é»˜è®¤å€¼**: `{ enabled: false }`
- **è¯´æ˜**: æ§åˆ¶æ˜¯å¦è‡ªåŠ¨æ·»åŠ ç¿»è¯‘å‡½æ•°çš„å¯¼å…¥è¯­å¥
- **é…ç½®ç¤ºä¾‹**:
  ```json
  {
    "replacement": {
      "autoImport": {
        "enabled": true,
        "insertPosition": "afterImports",
        "imports": {
          "**/*.tsx": {
            "importStatement": "import { useTranslation } from 'react-i18next';\nconst { t } = useTranslation();"
          }
        }
      }
    }
  }
  ```
- **æ•ˆæœç¤ºä¾‹**:
  ```typescript
  // æºä»£ç 
  import React from 'react';
  import { Button } from './Button';
  
  const Page = () => (
    <div>æ¬¢è¿</div>
  );
  
  // è½¬æ¢å
  import React from 'react';
  import { Button } from './Button';
  import { useTranslation } from 'react-i18next';
  const { t } = useTranslation();
  
  const Page = () => (
    <div>{t('huan_ying')}</div>
  );
  ```

## æ—¥å¿—é…ç½®

#### `logging`
- **ç±»å‹**: `object`
- **é»˜è®¤é…ç½®**:
  ```json
  {
    "enabled": true,
    "level": "normal"
  }
  ```
- **è¯´æ˜**: æ§åˆ¶å·¥å…·è¿è¡Œæ—¶çš„æ—¥å¿—è¾“å‡º
- **æ—¥å¿—çº§åˆ«**:
  - `"minimal"`: åªæ˜¾ç¤ºé”™è¯¯å’Œè­¦å‘Š
  - `"normal"`: æ˜¾ç¤ºåŸºæœ¬å¤„ç†ä¿¡æ¯
  - `"verbose"`: æ˜¾ç¤ºè¯¦ç»†è°ƒè¯•ä¿¡æ¯

## ç¿»è¯‘é…ç½®

#### `translation`
- **ç±»å‹**: `object`
- **é»˜è®¤å€¼**: `{ enabled: false }`
- **è¯´æ˜**: é…ç½®è‡ªåŠ¨ç¿»è¯‘åŠŸèƒ½ï¼ˆç›®å‰æ”¯æŒç™¾åº¦ç¿»è¯‘ï¼‰
- **é…ç½®ç¤ºä¾‹**:
  ```json
  {
    "translation": {
      "enabled": true,
      "provider": "baidu",
      "defaultSourceLang": "zh",
      "defaultTargetLang": "en",
      "concurrency": 5,
      "retryTimes": 3,
      "baidu": {
        "appid": "your_app_id",
        "key": "your_api_key"
      }
    }
  }
  ```
- **æ•ˆæœç¤ºä¾‹**:
  ```
  ğŸ“ locales/
  â”œâ”€â”€ zh-CN.json
  {
    "huan_ying": "æ¬¢è¿",
    "ti_jiao": "æäº¤",
    "yong_hu_ming": "ç”¨æˆ·å"
  }
  
  â”œâ”€â”€ en-US.jsonï¼ˆè‡ªåŠ¨ç”Ÿæˆçš„ç¿»è¯‘ï¼‰
  {
    "huan_ying": "Welcome",
    "ti_jiao": "Submit",
    "yong_hu_ming": "Username"
  }
  ```

## é…ç½®æœ€ä½³å®è·µ

1. **å¼€å‘ç¯å¢ƒé…ç½®å»ºè®®**:
   ```json
   {
     "tempDir": "temp/i18n",
     "logging": {
       "level": "verbose"
     }
   }
   ```

2. **ç”Ÿäº§ç¯å¢ƒé…ç½®å»ºè®®**:
   ```json
   {
     "tempDir": undefined,
     "logging": {
       "level": "minimal"
     }
   }
   ```

3. **å¤§å‹é¡¹ç›®é…ç½®å»ºè®®**:
   ```json
   {
     "keyGeneration": {
       "keyPrefix": "module_name",
       "reuseExistingKey": false
     }
   }
   ```

4. **æ€§èƒ½ä¼˜åŒ–å»ºè®®**:
   - ä½¿ç”¨ç²¾ç¡®çš„ include/exclude è§„åˆ™
   - é€‚å½“è°ƒæ•´ maxChineseLength å’Œ hashLength
   - åˆç†è®¾ç½®ç¿»è¯‘å¹¶å‘æ•°

5. **å›¢é˜Ÿåä½œå»ºè®®**:
   - ç»Ÿä¸€ keyPrefix å‘½åè§„èŒƒ
   - ä¿æŒä¸€è‡´çš„ separator é£æ ¼
   - è§„èŒƒåŒ– replacement.functionName 